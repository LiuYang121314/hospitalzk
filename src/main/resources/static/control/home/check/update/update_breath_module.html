<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>呼吸机质量检测模板数据修改</title>
    <link rel="stylesheet" type="text/css" href="../../../../static/layui/css/layui.css"/>
    <link rel="stylesheet" type="text/css" href="../../../../static/css/admin.css"/>
    <script src="../../../../static/js/jquery-3.3.1.min.js" type="text/javascript" charset="utf-8"></script>
    <!--[if IE 8]>
    <script type="text/javascript" src="../../../../static/js/jquery-1.11.3.min.js"></script>
    <![endif]-->
    <script src="../../../../static/layui/layui.js"></script>
    <style>
        .btn{
            width: 100%;
            margin-top: 50px;
            margin-bottom: 30px;
            text-align: center;
        }
        .layui-elem-field{
            width: 100%;
        }
        .layui-input-block{
            display: flex;
            align-items: center;
        }
        b{
            padding-left: 30px;
            width: 60%;
        }
    </style>
</head>
<body>
<div class="layui-row">
    <div class="col-xs-12">
        <fieldset class="layui-elem-field layui-field-title">
            <legend style="color: #000000;font-weight: bold;margin-bottom: 30px;">呼吸机质量检测模板数据修改</legend>
        </fieldset>
        <from class="layui-form layui-form-pane" action="">
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: red;">潮气量Vt (VCV模式、f=20bpm、I:E=1:2、PEEP=2cmH2O、FiO2=40%)</legend>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">呼吸机设定值 (ml)</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值1</label>
                <div class="layui-input-block">
                    <input type="text" id="cqz1" name="cqz1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值2</label>
                <div class="layui-input-block">
                    <input type="text" id="cqz2" name="cqz2" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值3</label>
                <div class="layui-input-block">
                    <input type="text" id="cqz3" name="cqz3" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">最大允差</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">cmH2O</label>
                <div class="layui-input-block">
                    <input type="text" id="cqzZdwc1" name="cqzZdwc1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值百分比</label>
                <div class="layui-input-block">
                    <input type="text" id="cqzZdwc2" name="cqzZdwc2" required placeholder="设定值百分比"  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: red;">强制通气频率f (VCV模式、Vt=400ml、I:E=1:2、PEEP=2cmH2O、FiO2=40%)</legend>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">呼吸机设定值 (ml)</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值1</label>
                <div class="layui-input-block">
                    <input type="text" id="qztq1" name="qztq1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值2</label>
                <div class="layui-input-block">
                    <input type="text" id="qztq2" name="qztq2" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值3</label>
                <div class="layui-input-block">
                    <input type="text" id="qztq3" name="qztq3" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">最大允差</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">cmH2O</label>
                <div class="layui-input-block">
                    <input type="text" id="qztqZdwc1" name="qztqZdwc1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值百分比</label>
                <div class="layui-input-block">
                    <input type="text" id="qztqZdwc2" name="qztqZdwc2" required placeholder="设定值百分比"  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: red;">吸入氧浓度FiO2 (VCV模式、Vt=400ml、f=15bpm、I:E=1:2、PEEP=2cmH2O)</legend>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">呼吸机设定值 (ml)</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值1</label>
                <div class="layui-input-block">
                    <input type="text" id="xry1" name="xry1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值2</label>
                <div class="layui-input-block">
                    <input type="text" id="xry2" name="xry2" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值3</label>
                <div class="layui-input-block">
                    <input type="text" id="xry3" name="xry3" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">最大允差</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">cmH2O</label>
                <div class="layui-input-block">
                    <input type="text" id="xryZdwc1" name="xryZdwc1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值百分比</label>
                <div class="layui-input-block">
                    <input type="text" id="xryZdwc2" name="xryZdwc2" required placeholder="设定值百分比"  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: red;">吸气峰值压力 (PCV模式、f=15bpm、I:E=1:2、PEEP=0cmH2O、FiO2=40%)</legend>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">呼吸机设定值 (ml)</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值1</label>
                <div class="layui-input-block">
                    <input type="text" id="xqf1" name="xqf1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值2</label>
                <div class="layui-input-block">
                    <input type="text" id="xqf2" name="xqf2" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值3</label>
                <div class="layui-input-block">
                    <input type="text" id="xqf3" name="xqf3" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">最大允差</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">cmH2O</label>
                <div class="layui-input-block">
                    <input type="text" id="xqfZdwc1" name="xqfZdwc1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值百分比</label>
                <div class="layui-input-block">
                    <input type="text" id="xqfZdwc2" name="xqfZdwc2" required placeholder="设定值百分比"  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: red;">呼气末正压PEEP (VCV模式、Vt=400ml、f=15bpm、I:E=1:2、FiO2=40%)</legend>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">呼吸机设定值 (ml)</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值1</label>
                <div class="layui-input-block">
                    <input type="text" id="hqm1" name="hqm1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值2</label>
                <div class="layui-input-block">
                    <input type="text" id="hqm2" name="hqm2" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值3</label>
                <div class="layui-input-block">
                    <input type="text" id="hqm3" name="hqm3" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <fieldset class="layui-elem-field layui-field-title">
                <legend style="color: #555555;">最大允差</legend>
            </fieldset>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">cmH2O</label>
                <div class="layui-input-block">
                    <input type="text" id="hqmZdwc1" name="hqmZdwc1" required  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item col-md-5">
                <label class="layui-form-label">设定值百分比</label>
                <div class="layui-input-block">
                    <input type="text" id="hqmZdwc2" name="hqmZdwc2" required placeholder="设定值百分比"  lay-verify="required" autocomplete="off" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item btn">
                <div class="layui-input-block">
                    <button class="layui-btn layui-btn-normal" lay-submit lay-filter="saveUpdate">保存</button>
                </div>
            </div>
        </from>
    </div>
</div>
<script>
    // 获取上个页面传递的类型
    var ids = "";
    layui.use(['layer','jquery','form'],function(){
        var layer = layui.layer
            ,$ = layui.jquery
            ,form = layui.form;
        $(function(){
            $.ajax({
                url:"/hxj/findTemplate",
                method:"GET",
                dataType:"JSON",
                success:function (res) {
                    if(res.data !== "" && res.data !== null){
                    	ids = res.data.hxjTemplateId;
                        $("#cqz1").val(res.data.cqz1);
                        $("#cqz2").val(res.data.cqz2);
                        $("#cqz3").val(res.data.cqz3);
                        $("#cqzZdwc1").val(res.data.cqzZdwc1);
                        $("#cqzZdwc2").val(res.data.cqzZdwc2);

                        $("#qztq1").val(res.data.qztq1);
                        $("#qztq2").val(res.data.qztq2);
                        $("#qztq3").val(res.data.qztq3);
                        $("#qztqZdwc1").val(res.data.qztqZdwc1);
                        $("#qztqZdwc2").val(res.data.qztqZdwc2);

                        $("#xry1").val(res.data.xry1);
                        $("#xry2").val(res.data.xry2);
                        $("#xry3").val(res.data.xry3);
                        $("#xryZdwc1").val(res.data.xryZdwc1);
                        $("#xryZdwc2").val(res.data.xryZdwc2);

                        $("#xqf1").val(res.data.xqf1);
                        $("#xqf2").val(res.data.xqf2);
                        $("#xqf3").val(res.data.xqf3);
                        $("#xqfZdwc1").val(res.data.xqfZdwc1);
                        $("#xqfZdwc2").val(res.data.xqfZdwc2);

                        $("#hqm1").val(res.data.hqm1);
                        $("#hqm2").val(res.data.hqm2);
                        $("#hqm3").val(res.data.hqm3);
                        $("#hqmZdwc1").val(res.data.hqmZdwc1);
                        $("#hqmZdwc2").val(res.data.hqmZdwc2);
                    }else{
                        layer.msg("无数据");
                    }
                },
                error:function(data){
                    console.log(data);
                    layer.msg("请稍后再试");
                }
            })
        });
        // 保存
        form.on("submit(saveUpdate)",function(data){
            console.log(data.field);
            $.ajax({
                url:"/hxj/updateTemplate?hxjTemplateId="+ids,
                method:"POST",
                data:data.field,
                dataType:"JSON",
                success:function (res){
                    if(res.state === 200){
                        layer.msg("修改成功");
                    }else{
                        layer.msg("修改失败");
                    }
                },
                error:function(data){
                    console.log(data);
                    layer.msg("请稍后再试");
                }
            });
        });
    });
</script>
</body>
</html>